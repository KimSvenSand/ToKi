{"version":3,"sources":["../../src/js/TowerOfHanoi.js"],"names":["TowerOfHanoi","constructor","nrOfDiscs","_nrOfPegs","_nrOfDiscs","_pegs","initPegs","_currentPeg","_current","pegsArray","push","i","getPegs","getCurrentPeg","isLegalMove","start","dest","peak","getSize","playHanoi","destIndex","getNrOfDiscs","aux","init","getNrOfConsecutiveDiscs","pushDisc","popDisc","destToAux","popLastState","auxToDest"],"mappings":"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","file":"TowerOfHanoi.js","sourcesContent":["import Peg from './Peg'\nimport CurrentHandler from './CurrentHandler'\n'use strict'\n\nexport default class TowerOfHanoi {\n  constructor(nrOfDiscs) {\n    this._nrOfPegs = 3;\n    this._nrOfDiscs = nrOfDiscs;\n    this._pegs = this.initPegs(this._nrOfDiscs);\n    this._currentPeg = 0;\n    this._current = new CurrentHandler();\n  }\n\n  initPegs(nrOfDiscs) {\n    var pegsArray = [];\n    pegsArray.push(new Peg(nrOfDiscs));\n\n    for (var i = 1; i < this._nrOfPegs; i++) {\n      pegsArray.push(new Peg(0));\n    }\n\n    return pegsArray;\n  }\n\n  getPegs() {\n    return this._pegs;\n  }\n\n  getCurrentPeg() {\n    return this._currentPeg;\n  }\n\n  isLegalMove(start, dest) {\n    if (dest.peak() === null) {\n      return true;\n    } else if (start.peak() === null) {\n      return false;\n    } else {\n      if (start.peak().getSize() < dest.peak().getSize()) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  playHanoi(destIndex) {\n    var nrOfDiscs = this._pegs[this._currentPeg].getNrOfDiscs();\n    var start = this._pegs[this._currentPeg];\n    var dest = this._pegs[destIndex];\n    var aux = this._pegs[3 - this._currentPeg - destIndex];\n    this._current.init(start, aux, dest);\n\n    if (this._pegs[destIndex] !== this._pegs[this._currentPeg]) {\n      //while all disks are not at dest\n      while (dest.getNrOfDiscs() < nrOfDiscs) {\n        //while current start is not empty\n        while(this._current.start.getNrOfConsecutiveDiscs() > 0) {\n          //If even\n          if (this._current.start.getNrOfConsecutiveDiscs() % 2 === 0) {\n            if (this.isLegalMove(this._current.start, this._current.aux)) {\n              this._current.aux.pushDisc(this._current.start.popDisc());\n              this._current.destToAux();\n            } else {\n              this._current.popLastState();\n            }\n          //Else if odd\n          } else {\n            if (this.isLegalMove(this._current.start, this._current.dest)) {\n              this._current.dest.pushDisc(this._current.start.popDisc());\n              this._current.auxToDest();\n            } else {\n              this._current.popLastState();\n            }\n          }\n        }\n        this._current.popLastState();\n      }\n    }\n    this._currentPeg = destIndex;\n  }\n}\n"]}