{"version":3,"sources":["../../src/js/Graph.js"],"names":["Graph","constructor","nodes","_nodes","findNode","name","node","getName","i","length","addNode","push","dijkstras","startNode","endNode","dist","path","unvisited","slice","visited","current","currentIndex","currentNeighbors","resultingPath","undefined","Infinity","includes","getNeighbors","filter","neighbor","splice","tmp","findEdge","getWeight","concat"],"mappings":"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","file":"Graph.js","sourcesContent":["import Node from './Node'\n'use strict'\n\nexport default class Graph {\n  constructor(nodes) {\n    if (nodes) {\n      this._nodes = nodes;\n    } else {\n      this._nodes = [];\n    }\n  }\n\n  findNode(name) {\n    var node = null;\n    if (this._nodes[0].getName() === name) {\n      return this._nodes[0];\n    }\n    for (var i = 1; i < this._nodes.length && this._nodes[i - 1].getName() !== name; i++) {\n      node = this._nodes[i];\n    }\n    return node;\n  }\n\n  addNode(name) {\n    var node = new Node(name);\n    this._nodes.push(node);\n\n    return node;\n  }\n\n  dijkstras(startNode, endNode) {\n    var dist = [];\n    var path = [];\n    var unvisited = this._nodes.slice();\n    var visited = [];\n    var current;\n    var currentIndex;\n    var currentNeighbors;\n    var resultingPath = {\n      'path': [],\n      'dist': 0\n    }\n\n    if (startNode === undefined || endNode === undefined) {\n      return resultingPath;\n    } else if (startNode === endNode) {\n      return resultingPath;\n    }\n\n    for (var i = 0; i < this._nodes.length; i++) {\n      dist[this._nodes[i].getName()] = Infinity;\n    }\n    path[startNode.getName()] = [];\n    dist[startNode.getName()] = 0;\n\n    while (unvisited.length > 0 && unvisited.includes(endNode)) {\n      current = unvisited[0];\n      currentIndex = 0;\n      for (var i = 0; i < unvisited.length; i++) {\n        if (dist[unvisited[i].getName()] < dist[current.getName()]) {\n          current = unvisited[i];\n          currentIndex = i;\n        }\n      }\n      currentNeighbors = current.getNeighbors().filter(function(neighbor) {\n        return unvisited.includes(neighbor);\n      });\n\n      unvisited.splice(currentIndex, 1);\n      for (var i = 0; i < currentNeighbors.length; i++) {\n        var tmp = dist[current.getName()] + current.findEdge(currentNeighbors[i]).getWeight();\n        if (tmp < dist[currentNeighbors[i].getName()]) {\n          dist[currentNeighbors[i].getName()] = tmp;\n          if (path[currentNeighbors[i].getName()] === undefined || !path[currentNeighbors[i].getName()].includes(current)) {\n            path[currentNeighbors[i].getName()] = path[current.getName()].slice().concat(current);\n          }\n        }\n      }\n    }\n\n    return {\n      'path': path[endNode.getName()],\n      'dist': dist[endNode.getName()]\n    }\n  }\n}\n"]}